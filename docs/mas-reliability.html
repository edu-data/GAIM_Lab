<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAS ë™í˜•ê²€ì‚¬ ì‹ ë¢°ë„ ë¶„ì„ - Parallel Forms Reliability (v6 vs v7)</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', -apple-system, sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1040 50%, #0d1b2a 100%);
            color: #e2e8f0;
            min-height: 100vh;
            padding: 24px;
        }

        .header {
            text-align: center;
            margin-bottom: 32px;
            padding: 40px 24px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
        }

        .pipeline-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            border-radius: 20px;
            background: rgba(99, 102, 241, 0.15);
            border: 1px solid rgba(99, 102, 241, 0.3);
            font-size: 13px;
            color: #a5b4fc;
            margin-bottom: 16px;
        }

        .pipeline-badge .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #34d399;
            box-shadow: 0 0 8px rgba(52, 211, 153, 0.6);
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #f8fafc, #94a3b8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: #94a3b8;
            font-size: 14px;
        }

        .header a {
            color: #818cf8;
            text-decoration: none;
        }

        .header a:hover {
            text-decoration: underline;
        }

        /* Summary Cards */
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 16px;
            margin-bottom: 32px;
        }

        .summary-card {
            background: rgba(255, 255, 255, 0.04);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .summary-card .value {
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .summary-card .value.good {
            background: linear-gradient(135deg, #34d399, #10b981);
            -webkit-background-clip: text;
            background-clip: text;
        }

        .summary-card .value.warn {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            -webkit-background-clip: text;
            background-clip: text;
        }

        .summary-card .label {
            font-size: 12px;
            color: #94a3b8;
            margin-top: 6px;
        }

        /* Section */
        .section {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 14px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .section h3 {
            font-size: 16px;
            margin-bottom: 16px;
            color: #e2e8f0;
        }

        /* Charts Grid */
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 24px;
            margin-bottom: 24px;
        }

        .chart-box {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 14px;
            padding: 24px;
        }

        .chart-box h3 {
            font-size: 16px;
            margin-bottom: 16px;
        }

        .chart-box canvas {
            max-height: 300px;
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        th {
            background: rgba(99, 102, 241, 0.15);
            padding: 10px 12px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: #a5b4fc;
            font-weight: 600;
        }

        td {
            padding: 8px 12px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.04);
        }

        tr:hover td {
            background: rgba(255, 255, 255, 0.03);
        }

        .icc-excellent {
            color: #34d399;
            font-weight: 700;
        }

        .icc-good {
            color: #60a5fa;
            font-weight: 700;
        }

        .icc-moderate {
            color: #fbbf24;
            font-weight: 700;
        }

        .icc-poor {
            color: #f87171;
            font-weight: 700;
        }

        .diff-pos {
            color: #34d399;
        }

        .diff-neg {
            color: #f87171;
        }

        .grade-match {
            color: #34d399;
        }

        .grade-mismatch {
            color: #f87171;
        }

        /* Interpretation Box */
        .interp-box {
            background: rgba(99, 102, 241, 0.08);
            border-left: 4px solid #6366f1;
            border-radius: 0 8px 8px 0;
            padding: 16px 20px;
            margin-top: 16px;
            font-size: 14px;
            line-height: 1.8;
        }

        .interp-box strong {
            color: #a5b4fc;
        }

        footer {
            text-align: center;
            padding: 24px;
            color: #64748b;
            font-size: 13px;
        }

        footer a {
            color: #818cf8;
            text-decoration: none;
        }
    </style>
</head>

<body>

    <div class="header">
        <div class="pipeline-badge">
            <span class="dot"></span>
            ë™í˜•ê²€ì‚¬ ì‹ ë¢°ë„ ë¶„ì„ - Form A (v6) vs Form B (v7)
        </div>
        <h1>ğŸ”¬ MAS ë™í˜•ê²€ì‚¬ ì‹ ë¢°ë„ ë¶„ì„</h1>
        <p>Parallel Forms Reliability Â· ë™ì¼ 18ê°œ ì˜ìƒì— ëŒ€í•œ Form A(v6)ì™€ Form B(v7) íŒŒì´í”„ë¼ì¸ ë¶„ì„ ê²°ê³¼ ë¹„êµ</p>
        <p style="margin-top: 8px;"><a href="./mas-dashboard.html">â† ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°</a></p>
    </div>

    <!-- Summary Cards -->
    <div class="summary-grid">
        <div class="summary-card">
            <div class="value">18</div>
            <div class="label">ğŸ“¹ ë¹„êµ ì˜ìƒ ìˆ˜</div>
        </div>
        <div class="summary-card">
            <div class="value warn">0.67</div>
            <div class="label">ğŸ“ˆ ë™í˜•ê²€ì‚¬ ì‹ ë¢°ë„ ê³„ìˆ˜ (r)</div>
        </div>
        <div class="summary-card">
            <div class="value warn">0.51</div>
            <div class="label">ğŸ“Š ì ˆëŒ€ì  ì¼ì¹˜ë„ ICC(2,1)</div>
        </div>
        <div class="summary-card">
            <div class="value good">0.79</div>
            <div class="label">ğŸ”‘ Cronbach's Î±</div>
        </div>
        <div class="summary-card">
            <div class="value warn">50%</div>
            <div class="label">ğŸ·ï¸ ë“±ê¸‰ ì¼ì¹˜ìœ¨</div>
        </div>
        <div class="summary-card">
            <div class="value">3.95</div>
            <div class="label">ğŸ“ MAE (ì )</div>
        </div>
    </div>

    <!-- Charts Row 1: Score Comparison & Bland-Altman -->
    <div class="charts-grid">
        <div class="chart-box">
            <h3>ğŸ“Š Form A (v6) vs Form B (v7) ì´ì  ì‚°ì ë„</h3>
            <canvas id="scatterChart"></canvas>
        </div>
        <div class="chart-box">
            <h3>ğŸ“‰ Bland-Altman Plot</h3>
            <canvas id="blandAltman"></canvas>
        </div>
    </div>

    <!-- Charts Row 2: Dimension ICC & Score Diff -->
    <div class="charts-grid">
        <div class="chart-box">
            <h3>ğŸ¯ ì°¨ì›ë³„ ë™í˜•ê²€ì‚¬ ì‹ ë¢°ë„ ICC(2,1)</h3>
            <canvas id="iccChart"></canvas>
        </div>
        <div class="chart-box">
            <h3>ğŸ“ˆ ì°¨ì›ë³„ í‰ê·  ì ìˆ˜ ë¹„êµ</h3>
            <canvas id="dimCompare"></canvas>
        </div>
    </div>

    <!-- Dimension Reliability Table -->
    <div class="section">
        <h3>ğŸ“‹ ì°¨ì›ë³„ ë™í˜•ê²€ì‚¬ ì‹ ë¢°ë„ ìƒì„¸</h3>
        <table>
            <thead>
                <tr>
                    <th>ì°¨ì›</th>
                    <th>ë°°ì </th>
                    <th>Form A (v6)</th>
                    <th>Form B (v7)</th>
                    <th>Pearson r</th>
                    <th>ICC(2,1)</th>
                    <th>Cronbach's Î±</th>
                    <th>MAE</th>
                    <th>í•´ì„</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>ìˆ˜ì—… ì „ë¬¸ì„±</td>
                    <td>20</td>
                    <td>15.94</td>
                    <td>16.78</td>
                    <td>0.6247</td>
                    <td class="icc-moderate">0.5660</td>
                    <td>0.758</td>
                    <td>1.33</td>
                    <td>ë³´í†µ</td>
                </tr>
                <tr>
                    <td>êµìˆ˜í•™ìŠµ ë°©ë²•</td>
                    <td>20</td>
                    <td>14.69</td>
                    <td>13.47</td>
                    <td>0.8624</td>
                    <td class="icc-good">0.7134</td>
                    <td>0.910</td>
                    <td>1.33</td>
                    <td>ì–‘í˜¸</td>
                </tr>
                <tr>
                    <td>ì˜ì‚¬ì†Œí†µ</td>
                    <td>15</td>
                    <td>11.31</td>
                    <td>12.86</td>
                    <td>0.8219</td>
                    <td class="icc-poor">0.4283</td>
                    <td>0.848</td>
                    <td>1.67</td>
                    <td>ë¯¸í¡</td>
                </tr>
                <tr>
                    <td>ìˆ˜ì—… íƒœë„</td>
                    <td>15</td>
                    <td>9.14</td>
                    <td>9.19</td>
                    <td>0.3745</td>
                    <td class="icc-poor">0.3640</td>
                    <td>0.521</td>
                    <td>0.78</td>
                    <td>ë¯¸í¡</td>
                </tr>
                <tr>
                    <td>í•™ìƒ ì°¸ì—¬</td>
                    <td>15</td>
                    <td>11.78</td>
                    <td>14.05</td>
                    <td>0.2546</td>
                    <td class="icc-poor">0.0669</td>
                    <td>0.282</td>
                    <td>2.27</td>
                    <td>ë¯¸í¡</td>
                </tr>
                <tr>
                    <td>ì‹œê°„ ë°°ë¶„</td>
                    <td>10</td>
                    <td>7.08</td>
                    <td>7.08</td>
                    <td>0.9976</td>
                    <td class="icc-excellent">0.8731</td>
                    <td>0.929</td>
                    <td>0.28</td>
                    <td>ì–‘í˜¸</td>
                </tr>
                <tr>
                    <td>ì°½ì˜ì„±</td>
                    <td>5</td>
                    <td>2.95</td>
                    <td>2.74</td>
                    <td>0.9394</td>
                    <td class="icc-excellent">0.8354</td>
                    <td>0.946</td>
                    <td>0.27</td>
                    <td>ì–‘í˜¸</td>
                </tr>
            </tbody>
        </table>

        <div class="interp-box">
            <strong>ğŸ“˜ ë™í˜•ê²€ì‚¬ ì‹ ë¢°ë„ í•´ì„ (Parallel Forms Reliability):</strong><br>
            ë™í˜•ê²€ì‚¬ ì‹ ë¢°ë„ëŠ” ë™ì¼ êµ¬ì¸ì„ ì¸¡ì •í•˜ëŠ” ë‘ ê°€ì§€ ë™í˜• ê²€ì‚¬(Form A, Form B)ë¥¼ ë™ì¼ í”¼í—˜ìì—ê²Œ ì‹œí–‰í•˜ì—¬ ìƒê´€ì„ êµ¬í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.<br><br>
            <strong>ğŸŸ¢ ë†’ì€ ì‹ ë¢°ë„ (ICC >= 0.75):</strong> ì‹œê°„ ë°°ë¶„(0.87), ì°½ì˜ì„±(0.84) - ë‘ Form ê°„ ì±„ì ì´ ë§¤ìš° ì¼ê´€ì <br>
            <strong>ğŸŸ¡ ë³´í†µ ì‹ ë¢°ë„ (0.50 <= ICC < 0.75):</strong> êµìˆ˜í•™ìŠµ ë°©ë²•(0.71), ìˆ˜ì—… ì „ë¬¸ì„±(0.57) - ìƒê´€ì€ ë†’ìœ¼ë‚˜ ìˆ˜ì¤€ ì°¨ì´ ì¡´ì¬<br>
                    <strong>ğŸ”´ ë‚®ì€ ì‹ ë¢°ë„ (ICC < 0.50):</strong> ì˜ì‚¬ì†Œí†µ(0.43), ìˆ˜ì—… íƒœë„(0.36), í•™ìƒ ì°¸ì—¬(0.07) - Form Bì—ì„œ ì²´ê³„ì  ìƒí–¥ ì¡°ì •ë¨
        </div>
    </div>

    <!-- Video-by-Video Comparison Table -->
    <div class="section">
        <h3>ğŸ“‹ ì˜ìƒë³„ Form A vs Form B ì ìˆ˜ ë¹„êµ</h3>
        <table>
            <thead>
                <tr>
                    <th>ì˜ìƒ</th>
                    <th>Form A (v6)</th>
                    <th>Form B (v7)</th>
                    <th>ì°¨ì´</th>
                    <th>Form A ë“±ê¸‰</th>
                    <th>Form B ë“±ê¸‰</th>
                    <th>ë“±ê¸‰ ì¼ì¹˜</th>
                </tr>
            </thead>
            <tbody id="videoTableBody"></tbody>
        </table>
    </div>

    <!-- Interpretation -->
    <div class="section">
        <h3>ğŸ“ ë™í˜•ê²€ì‚¬ ì‹ ë¢°ë„ ì¢…í•© í•´ì„</h3>
        <div class="interp-box">
            <strong>ë™í˜•ê²€ì‚¬ ì‹ ë¢°ë„ ê°œìš”:</strong> Form A(v6)ì™€ Form B(v7)ëŠ” ë™ì¼ êµ¬ì¸(êµìˆ˜ ì—­ëŸ‰)ì„ ì¸¡ì •í•˜ëŠ” ë‘ ê°€ì§€ ë™í˜• ê²€ì‚¬ì…ë‹ˆë‹¤. ë™í˜•ê²€ì‚¬ ì‹ ë¢°ë„ ê³„ìˆ˜ r =
            0.671ë¡œ 'ë³´í†µ~ê°•í•¨' ìˆ˜ì¤€ì´ë©°, ICC(2,1) = 0.508(ë³´í†µ) ìˆ˜ì¤€ì…ë‹ˆë‹¤.<br><br>
            <strong>ì²´ê³„ì  í¸í–¥:</strong> Bland-Altman ë¶„ì„ ê²°ê³¼ Form Bê°€ Form Aë³´ë‹¤ í‰ê·  +3.28ì  ë†’ìŒ (95% LoA: -3.42 ~ 9.98). ì´ëŠ” Form
            Bì—ì„œ ì˜ì‚¬ì†Œí†µ(+1.55), í•™ìƒ ì°¸ì—¬(+2.27) ì°¨ì›ì˜ ì±„ì  ê¸°ì¤€ì´ ìƒí–¥ ì¡°ì •ëœ ê²ƒì´ ì£¼ì›ì¸ì…ë‹ˆë‹¤.<br><br>
            <strong>ì•ˆì •ì  ì°¨ì›:</strong> ì‹œê°„ ë°°ë¶„(r=0.998, ICC=0.873)ê³¼ ì°½ì˜ì„±(r=0.939, ICC=0.835)ì€ ë‘ Form ê°„ ê±°ì˜ ë™ì¼í•œ ì±„ì ì„ ë³´ì—¬ ë†’ì€ ë™í˜•ê²€ì‚¬
            ì‹ ë¢°ë„ë¥¼ í™•ì¸í•¨.<br><br>
            <strong>ê°œì„  í•„ìš” ì°¨ì›:</strong> í•™ìƒ ì°¸ì—¬(ICC=0.067)ì˜ ê²½ìš° Form Bì—ì„œ ëŒ€ë¶€ë¶„ 14.2ì ìœ¼ë¡œ ìˆ˜ë ´í•˜ì—¬ ë³€ë³„ë ¥ì´ ì €í•˜ë¨. í–¥í›„ ë²„ì „ì—ì„œ ì±„ì  ë£¨ë¸Œë¦­ì˜ êµ¬ì²´í™”ê°€
            í•„ìš”í•©ë‹ˆë‹¤.
        </div>
    </div>

    <footer>
        <p>ğŸ¤– MAS v7.0 Â· ë™í˜•ê²€ì‚¬ ì‹ ë¢°ë„ ë¶„ì„ (Parallel Forms Reliability) Â· Form A(v6) vs Form B(v7) Â· 2026-02-20</p>
        <p style="margin-top: 6px;">ê²½ì¸êµìœ¡ëŒ€í•™êµ GAIM Lab Â· <a href="https://github.com/edu-data/mas">GitHub</a> Â· <a
                href="./mas-dashboard.html">ëŒ€ì‹œë³´ë“œ</a> Â· <a href="./mas-index.html">í™ˆí˜ì´ì§€</a></p>
    </footer>

    <script>
        Chart.defaults.color = '#94a3b8';
        Chart.defaults.borderColor = 'rgba(255,255,255,0.06)';

        // Data
        const videos = ['100926', '102400', '104016', '105229', '110545', '140629', '141700', '142648', '143455', '144436', '150303', '151036', '151833', '152725', '153522', '154506', '160036', '161202'];
        const v6 = [72.4, 70.0, 71.3, 74.5, 71.4, 68.7, 80.1, 74.2, 76.1, 71.7, 63.7, 71.9, 72.7, 75.7, 70.0, 75.9, 74.2, 77.6];
        const v7 = [78.9, 73.5, 74.6, 75.2, 78.1, 65.0, 81.3, 78.9, 76.8, 73.7, 71.7, 79.3, 70.8, 81.1, 72.4, 83.5, 79.2, 77.2];
        const v6grades = ['B', 'B', 'B', 'B', 'B', 'B-', 'A-', 'B', 'B+', 'B', 'C+', 'B', 'B', 'B+', 'B', 'B+', 'B', 'B+'];
        const v7grades = ['B+', 'B', 'B', 'B+', 'B+', 'B-', 'A-', 'B+', 'B+', 'B', 'B', 'B+', 'B', 'A-', 'B', 'A-', 'B+', 'B+'];

        // 1. Scatter: v6 vs v7
        const scatterData = v6.map((x, i) => ({ x, y: v7[i] }));
        new Chart(document.getElementById('scatterChart'), {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'v6 vs v7',
                    data: scatterData,
                    backgroundColor: 'rgba(99,102,241,0.7)',
                    borderColor: 'rgba(139,92,246,1)',
                    borderWidth: 1,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                }, {
                    label: 'ì™„ì „ ì¼ì¹˜ì„ ',
                    data: [{ x: 60, y: 60 }, { x: 85, y: 85 }],
                    type: 'line',
                    borderColor: 'rgba(251,191,36,0.5)',
                    borderDash: [6, 4],
                    borderWidth: 2,
                    pointRadius: 0,
                    fill: false,
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: {
                    legend: { display: true, position: 'top' },
                    tooltip: {
                        callbacks: {
                            label: (ctx) => {
                                if (ctx.datasetIndex === 0) {
                                    const i = ctx.dataIndex;
                                    return `${videos[i]}: v6=${v6[i]}, v7=${v7[i]} (${(v7[i] - v6[i] > 0 ? '+' : '')}${(v7[i] - v6[i]).toFixed(1)})`;
                                }
                                return '';
                            }
                        }
                    }
                },
                scales: {
                    x: { title: { display: true, text: 'v6 ì´ì ' }, min: 60, max: 90 },
                    y: { title: { display: true, text: 'v7 ì´ì ' }, min: 60, max: 90 }
                }
            }
        });

        // 2. Bland-Altman
        const means = v6.map((x, i) => (x + v7[i]) / 2);
        const diffs = v6.map((x, i) => v7[i] - x);
        const meanDiff = 3.28;
        const loaUpper = 9.98;
        const loaLower = -3.42;

        new Chart(document.getElementById('blandAltman'), {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'ì°¨ì´ (v7 - v6)',
                    data: means.map((m, i) => ({ x: m, y: diffs[i] })),
                    backgroundColor: diffs.map(d => d > 0 ? 'rgba(52,211,153,0.7)' : 'rgba(248,113,113,0.7)'),
                    borderColor: diffs.map(d => d > 0 ? 'rgba(52,211,153,1)' : 'rgba(248,113,113,1)'),
                    borderWidth: 1,
                    pointRadius: 6,
                }, {
                    label: `Bias (${meanDiff.toFixed(2)})`,
                    data: [{ x: 60, y: meanDiff }, { x: 85, y: meanDiff }],
                    type: 'line', borderColor: 'rgba(96,165,250,0.8)', borderWidth: 2, borderDash: [6, 3],
                    pointRadius: 0, fill: false,
                }, {
                    label: `95% LoA Upper (${loaUpper.toFixed(2)})`,
                    data: [{ x: 60, y: loaUpper }, { x: 85, y: loaUpper }],
                    type: 'line', borderColor: 'rgba(248,113,113,0.5)', borderWidth: 1, borderDash: [4, 4],
                    pointRadius: 0, fill: false,
                }, {
                    label: `95% LoA Lower (${loaLower.toFixed(2)})`,
                    data: [{ x: 60, y: loaLower }, { x: 85, y: loaLower }],
                    type: 'line', borderColor: 'rgba(248,113,113,0.5)', borderWidth: 1, borderDash: [4, 4],
                    pointRadius: 0, fill: false,
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { display: true, position: 'top', labels: { font: { size: 11 } } } },
                scales: {
                    x: { title: { display: true, text: 'í‰ê·  ((v6+v7)/2)' }, min: 60, max: 85 },
                    y: { title: { display: true, text: 'ì°¨ì´ (v7 - v6)' }, min: -8, max: 14 }
                }
            }
        });

        // 3. ICC by Dimension
        const dimNames = ['ìˆ˜ì—… ì „ë¬¸ì„±', 'êµìˆ˜í•™ìŠµ ë°©ë²•', 'ì˜ì‚¬ì†Œí†µ', 'ìˆ˜ì—… íƒœë„', 'í•™ìƒ ì°¸ì—¬', 'ì‹œê°„ ë°°ë¶„', 'ì°½ì˜ì„±'];
        const dimICC = [0.566, 0.713, 0.428, 0.364, 0.067, 0.873, 0.835];
        const dimColors = dimICC.map(v => v >= 0.75 ? 'rgba(52,211,153,0.7)' : v >= 0.50 ? 'rgba(96,165,250,0.7)' : 'rgba(248,113,113,0.7)');
        const dimBorders = dimICC.map(v => v >= 0.75 ? 'rgba(52,211,153,1)' : v >= 0.50 ? 'rgba(96,165,250,1)' : 'rgba(248,113,113,1)');

        new Chart(document.getElementById('iccChart'), {
            type: 'bar',
            data: {
                labels: dimNames,
                datasets: [{
                    label: 'ICC(2,1)',
                    data: dimICC,
                    backgroundColor: dimColors,
                    borderColor: dimBorders,
                    borderWidth: 1,
                    borderRadius: 6,
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    x: { min: 0, max: 1, ticks: { stepSize: 0.25 } },
                    y: {}
                }
            }
        });

        // 4. Dimension Mean Comparison
        const v6dimMeans = [15.94, 14.69, 11.31, 9.14, 11.78, 7.08, 2.95];
        const v7dimMeans = [16.78, 13.47, 12.86, 9.19, 14.05, 7.08, 2.74];

        new Chart(document.getElementById('dimCompare'), {
            type: 'bar',
            data: {
                labels: dimNames,
                datasets: [{
                    label: 'v6 í‰ê· ',
                    data: v6dimMeans,
                    backgroundColor: 'rgba(96,165,250,0.6)',
                    borderColor: 'rgba(96,165,250,1)',
                    borderWidth: 1, borderRadius: 4,
                }, {
                    label: 'v7 í‰ê· ',
                    data: v7dimMeans,
                    backgroundColor: 'rgba(139,92,246,0.6)',
                    borderColor: 'rgba(139,92,246,1)',
                    borderWidth: 1, borderRadius: 4,
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { position: 'top' } },
                scales: { y: { beginAtZero: true } }
            }
        });

        // 5. Video Table
        const tbody = document.getElementById('videoTableBody');
        const sorted = videos.map((v, i) => ({ v, v6: v6[i], v7: v7[i], d: v7[i] - v6[i], g6: v6grades[i], g7: v7grades[i] }))
            .sort((a, b) => Math.abs(b.d) - Math.abs(a.d));

        sorted.forEach(row => {
            const diffClass = row.d > 0 ? 'diff-pos' : row.d < 0 ? 'diff-neg' : '';
            const gradeMatch = row.g6 === row.g7;
            const matchClass = gradeMatch ? 'grade-match' : 'grade-mismatch';
            const matchIcon = gradeMatch ? 'âœ“' : 'âœ—';
            tbody.innerHTML += `<tr>
                <td>20251209_${row.v}</td>
                <td>${row.v6.toFixed(1)}</td>
                <td><strong>${row.v7.toFixed(1)}</strong></td>
                <td class="${diffClass}">${row.d > 0 ? '+' : ''}${row.d.toFixed(1)}</td>
                <td>${row.g6}</td>
                <td>${row.g7}</td>
                <td class="${matchClass}">${matchIcon}</td>
            </tr>`;
        });
    </script>
</body>

</html>